<div class="container-xl">
  <h1>Easily keep track of your knitting project</h1>
</div>

<div class="container-xl">
  <header>
    <h2>Counter</h2>
    <p>Click the button every time you have finished a section of the project.</p>
  </header>

  <ng-container *ngIf="(listOfCounters$ | async) as listOfCounters">
    <div class="grid-container">
      <div class="grid-item" id="counterList">
        <ul *ngFor="let counter of listOfCounters">
          <li>
            <a (click)="getCounterById(counter)" type="button">
              {{ counter.counterName }}: {{ counter.counterNumber }} / {{ counter.counterTotal }}
            </a>
          </li>
        </ul>
        <div  id="add">
          <button href="#addCounterModal" class="btn btn-secondary" data-toggle="modal" data>Add</button>
        </div>
      </div>
    
      <ng-container *ngIf="(currentCounter$ | async) as current">
        <div class="grid-item mid">
          <table id="rowStitch">
            <tr>
              <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-light active">
                  <input type="radio" name="options" id="option1" autocomplete="off" checked> Row
                </label>
                <label class="btn btn-light">
                  <input type="radio" name="options" id="option2" autocomplete="off"> Stitch
                </label>
              </div>
            </tr>
          </table>
          <div>
            <a (click)="countOne(current)" type="button" class="btn-big-circle"></a>
          </div>
        </div>

        <div class="grid-item">
          <div>
            <h3 class="counterTitle">{{ current.counterName }}</h3>
            <div class="counterNumbers">
              <p>{{ current.counterNumber }} <i>of</i> {{ current.counterTotal }}</p>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </ng-container>
</div>




<!-- Modal -->
<div id="addCounterModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <form role="form" #form="ngForm" (ngSubmit)="addCounter(form)">
          <div>
            <div class="form-group">
              <label for="counterName">Counter name:</label>
              <input type="text" ngModel name="counterName">
            </div>
            <div class="form-group">
              <label for="counterTotal">Number:</label>
              <input type="number" ngModel name="counterTotal">
            </div>
          </div>
          <button class="btn btn-secondary" type="submit">submit</button>
          <button class="btn btn-light" type="submit" data-dismiss="modal">cancel</button>
        </form>
      </div>
    </div>
  </div>
</div>
